{"version":3,"sources":["components/utils/walletAddress.js","components/MetaMaskButton.js","components/AccountInput.js","components/ViewAccountHandling.js","components/consts.js","components/utils/tokenId.js","components/TokenImageGrid.js","components/TokenGrid.js","components/utils/projectMap.js","components/utils/empyreanFeatureScript.js","components/FeaturesDisplay.js","components/ActivePieceDisplay.js","components/PieceBrowser.js","components/PieceStats.js","components/utils/features.js","components/ProjectDetails.js","components/ProjectInformation.js","components/ProjectView.js","components/ProjectPage.js","App.js","reportWebVitals.js","index.js"],"names":["truncateAddress","address","slice","MetaMaskButton","web3","requestAccount","account","_provider","className","onClick","AccountInput","setAccount","userAccount","useState","inputAccount","setInputAccount","error","setError","onSubmit","event","preventDefault","Web3","utils","isAddress","type","value","onChange","target","ViewAccountHandling","contract","viewAccount","setViewAccount","projectId","a","methods","projectShowAllTokens","call","tokens","owners","Set","Promise","all","map","token","ownerOf","add","ownerArray","Array","from","Math","floor","random","length","artblocksApiUrl","formatTokenId","tokenId","parseInt","TokenImageGrid","setActiveToken","onTokenClick","src","id","alt","TokenGrid","projectMap","33","featureScript","tokenData","hashPairs","j","push","decPairs","x","lineStyle","map_v","randomEndpoints","hasBorder","isFill","size","sizeNum","doesMove","startpointStyle","startpointPercent","colorScheme","colorSchemePercent","nodeStyle","startpointNodeStyle","getNodeStyle","endpointNodeStyle","nodeFill","nodeRatio","nodeRotationStyle","maxNodeRotation","nodeRotationStyleBool","maxNodeRotationNum","PI","nodeRatioNum","noiseMagnitude","noiseResolution","noiseMagnitudeNum","noiseResolutionNum","colorAnimation","colorAnimationPercent","colorAnimationSpeed","colorAnimationSpeedPercent","framesBetweenColorChange","pairPos","nodeStyleProb","index","min","max","features","urlToProjectId","FeaturesDisplay","Object","keys","feature","ActivePieceDisplay","activeToken","node","useRef","useEffect","handleClick","e","current","contains","document","addEventListener","removeEventListener","ref","title","hash","href","PieceBrowser","PieceStats","tokenFeatures","featureDescriptions","featureSet","forEach","featureDescription","featureName","numTokenFeatures","reduce","accumulator","tokenFeature","numFeatures","has","ProjectDetails","projectInfo","projectName","artist","description","website","ProjectInformation","ProjectView","setProjectInfo","allTokens","setAllTokens","projectDetails","fetchProjectDetails","tokensOfOwner","ids","tokenIdToHash","fetchTokens","regex","RegExp","filter","match","sort","tokenA","tokenB","ProjectPage","useParams","search","useLocation","queryParams","queryString","parse","history","useHistory","collection","eth","Contract","abi","setCollectionParam","useCallback","params","URLSearchParams","append","delete","toString","App","setUserAccount","network","setNetwork","givenProvider","requestAccounts","accounts","net","getNetworkType","getNetwork","path","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5a9451dd.chunk.js","sourcesContent":["import Web3 from 'web3';\n\nexport function isAddress(address) {\n  return Web3.utils.isAddress(address);\n};\n\nexport function truncateAddress(address) {\n  if (!address) {\n    return;\n  } \n\n  return `${address.slice(0, 7)}...`\n}\n","import React from 'react';\nimport './MetaMaskButton.css';\nimport {truncateAddress} from './utils/walletAddress';\n\nfunction MetaMaskButton({web3, requestAccount, account}) {\n  if (account) {\n    return (\n      <div>{truncateAddress(account)}</div>\n    )\n  }\n  if (!web3._provider) {\n    return null;\n  }\n\n  return (\n    <div\n      className=\"metamask-button\"\n      onClick={() => requestAccount()}\n    >\n      Connect with MetaMask\n    </div>\n  )\n}\n\nexport default MetaMaskButton;\n","import React, {useState} from 'react';\nimport {isAddress} from './utils/walletAddress';\nimport './AccountInput.css';\nimport './button.css';\n\nfunction AccountInput({setAccount, userAccount}) {\n  const [inputAccount, setInputAccount] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  function handleChange(event) {\n    setInputAccount(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    if (inputAccount === \"\") {\n      setAccount(userAccount);\n      setError(\"\");\n      return;\n    }\n\n    if (!isAddress(inputAccount)) {\n      setError(\"Address is not valid\");\n      return;\n    }\n\n    setError(\"\");\n    setAccount(inputAccount);\n  }\n\n  return (\n    <div className=\"form-container\">\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <label className=\"label-container\">\n          <span className=\"label\">Wallet ID:&nbsp;</span>\n          <div className=\"account-input-container\">\n            <input className=\"wallet-input\" type=\"text\" value={inputAccount} onChange={handleChange} />\n            <div className=\"account-error-text\">{error}</div>\n          </div>\n        </label>\n        <input className=\"button\" type=\"submit\" value=\"Submit\" />\n      </form>\n    </div>\n  );\n}\n\nexport default AccountInput;\n","import React from 'react';\nimport AccountInput from './AccountInput';\nimport {truncateAddress} from './utils/walletAddress';\nimport './ViewAccountHandling.css';\nimport './button.css';\n\nfunction ViewAccountHandling({contract, viewAccount, userAccount, setViewAccount, projectId}) {\n  async function getRandomAccount() {\n    const tokens = await contract.methods.projectShowAllTokens(projectId).call();\n    const owners = new Set();\n    await Promise.all(tokens.map(async (token) => {\n      owners.add(await contract.methods.ownerOf(token).call())\n    }));\n    const ownerArray = Array.from(owners);\n    setViewAccount(ownerArray[Math.floor(Math.random() * ownerArray.length)]); \n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"account-search-container\">\n        <AccountInput\n          setAccount={setViewAccount}\n          userAccount={userAccount}\n        />\n        <button \n          className=\"random-account-button button\" \n          onClick={getRandomAccount}\n        >\n          Get Random Collection\n        </button>\n      </div>\n      {(viewAccount || userAccount) &&\n        <h2>You are viewing {viewAccount === userAccount ? \"your\" : `${truncateAddress(viewAccount)}'s`} collection</h2> \n      }\n    </div>\n  );\n}\n\nexport default ViewAccountHandling;\n","export const artblocksApiUrl = \"https://api.artblocks.io\";\nexport const artblocksUrl = \"https://artblocks.io\";\n","export function formatTokenId(tokenId) {\n  return parseInt(tokenId.slice(2))\n}\n","import React from 'react';\nimport './TokenImageGrid.css';\nimport {artblocksApiUrl} from './consts';\nimport {formatTokenId} from './utils/tokenId';\n\n\nfunction TokenImageGrid({tokens, setActiveToken}) {\n  const onTokenClick = (token) => {\n    return () => {\n      setActiveToken(token);\n    }\n  }\n  \n  return (\n    <div className=\"image-grid\">\n      {tokens.map(token => {\n        return (\n          <div \n            className=\"token-image-container\"\n            onClick={onTokenClick(token)}\n            key={token.id}\n          >\n            <img \n              className=\"token-image\"\n              src={`${artblocksApiUrl}/image/${token.id}`}\n              alt={token.id}\n            />\n            <div className=\"hover-container\">\n              <div className=\"hover-text\">\n              #{formatTokenId(token.id)}\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  ) \n}\n\nexport default TokenImageGrid;\n","import React from 'react';\nimport TokenImageGrid from './TokenImageGrid';\nimport './TokenGrid.css';\n\nfunction TokenGrid({tokens, setActiveToken}) {\n  return (\n    <div>\n      <h2 className=\"piece-header\"> {tokens.length} Piece{tokens.length !== 1 && 's'} Owned:</h2>\n      <TokenImageGrid tokens={tokens} setActiveToken={setActiveToken}/>\n    </div>\n  ) \n}\n\nexport default TokenGrid;\n","import {empyreanFeatures} from './empyreanFeatureScript';\n\nexport const projectMap = {\n  33: {\n    featureScript: empyreanFeatures,\n    features: {\n      \"Size\": [\"Small\", \"Normal\", \"Large\"],\n      \"Line style\": [\"Loopy\", \"Neat loopy\", \"Straight\"],\n      \"Color scheme\": [\"Grayscale\", \"Monochromatic\", \"Full spectrum\"],\n      \"Moves\": [\"False\", \"True\"],\n      \"Color Animation\": [\"N/A\", \"Random\", \"Rotate\", \"Hue shift\"],\n      \"Filled\": [\"False\", \"True\"],\n      \"Node style\": [\"Normal\", \"Just start point\", \"just endpoint\", \"Start point and endpoint\"],\n      \"Start point node style\": [\"N/A\", \"Circle\", \"Square\", \"Triangle\", \"Cross\", \"Asterisk\"],\n      \"Endpoint node style\": [\"N/A\", \"Circle\", \"Square\", \"Triangle\", \"Cross\", \"Asterisk\"],\n      \"Nodes filled\": [\"N/A\", \"False\", \"True\"],\n      \"Possible node size\": [\"N/A\", \"Small\", \"Medium\", \"Large\"],\n      \"Node rotation\": [\"N/A\", \"False\", \"True\"],\n      \"Border\": [\"False\", \"True\"],\n      \"Start point style\": [\"On circle edge\", \"Use previous endpoint\", \"Random\"],\n      \"Random endpoint\": [\"False\", \"True\"],\n      \"Noise magnitude\": [\"N/A\", \"Low\", \"Normal\", \"High\"],\n      \"Noise resolution\": [\"N/A\", \"Low\", \"Normal\", \"High\"],\n      \"Color animation speed\": [\"N/A\", \"Very slow\", \"Slow\", \"Normal\", \"Fast\"],\n      \"Max node rotation\": [\"N/A\", \"Small\", \"Medium\", \"Large\"],\n    }\n  }\n}\n\nexport const urlToProjectId = {\n  \"empyrean\": 33,\n}\n\n","export function empyreanFeatures(tokenData) {\n  const hashPairs = [];\n  for (let j = 0; j < 32; j++) {\n    hashPairs.push(tokenData.slice(2 + j * 2, 4 + j * 2));\n  }\n\n  const decPairs = hashPairs.map((x) => parseInt(x, 16));\n\n  let lineStyle = 'Straight';\n  const styleNum = Math.floor(map_v(2, 1, 4));\n  switch (styleNum) {\n    case 1:\n      lineStyle = 'Loopy'\n      break;\n    case 2:\n      lineStyle = 'Neat loopy'\n      break;\n    default:\n      lineStyle = 'Straight'\n  }\n\n  let randomEndpoints = map_v(3) < 0.2 ? 'True' : 'False';\n  let hasBorder = map_v(4) < 0.38 ? 'True' : 'False';\n  let isFill = map_v(5) < 0.15 ? 'True' : 'False';\n\n  let size = 'Normal';\n  const sizeNum = map_v(6, 2.1, 3);\n  if (sizeNum < 2.3) {\n    size = 'Large';\n  } else if (sizeNum > 2.8) {\n    size = 'Small';\n  }\n\n  let doesMove = 'False';\n  if (map_v(7) < 0.05) {\n    doesMove = 'True';\n  }\n\n  let startpointStyle = 'On circle edge'\n  const startpointPercent = map_v(11);\n  if (startpointPercent <= 0.2) {\n    startpointStyle = 'Use previous endpoint';\n  } else if (startpointPercent <= 0.4) {\n    startpointStyle = 'Random';\n  }\n\n  let colorScheme = 'Grayscale'\n  const colorSchemePercent = map_v(12);\n  if (colorSchemePercent <= 0.35) {\n    colorScheme = 'Monochromatic';\n  } else if (colorSchemePercent <= 0.5) {\n    colorScheme = 'Full spectrum';\n  }\n\n  let nodeStyle = 'Normal';\n  if (map_v(13) <= .25 && map_v(14) <= .25) {\n    nodeStyle = 'Start point and endpoint';\n  } else if (map_v(13) <= .25) {\n    nodeStyle = 'Just start point';\n  } else if (map_v(14) <= .25) {\n    nodeStyle = 'Just endpoint';\n  }\n\n  let startpointNodeStyle = getNodeStyle(13);\n  let endpointNodeStyle = getNodeStyle(14);\n\n  let nodeFill = 'N/A';\n  let nodeRatio = 'N/A';\n  let nodeRotationStyle = 'N/A'\n  let maxNodeRotation = 'N/A';\n  if (map_v(13) <= .25 || map_v(14) <= .25) {\n    const nodeRotationStyleBool = map_v(15) < .3;\n    nodeRotationStyle = nodeRotationStyleBool ? 'True': 'False';\n    let maxNodeRotationNum = map_v(16, Math.PI, 4 * Math.PI);\n    if (nodeRotationStyleBool) {\n      if (maxNodeRotationNum > 3 * Math.PI) {\n        maxNodeRotation = 'Large';\n      } else if (maxNodeRotation < 2 * Math.PI) {\n        maxNodeRotation = 'Small';\n      } else {\n        maxNodeRotation = 'Medium';\n      }\n    }\n    nodeFill = map_v(17) < 0.5 ? 'True' : 'False';\n    let nodeRatioNum = map_v(18, 3, 25);\n    if (nodeRatioNum < 10) {\n      nodeRatio = 'Large';\n    } else if (nodeRatioNum > 18) {\n      nodeRatio = 'Small';\n    } else {\n      nodeRatio = 'Medium';\n    }\n  }\n\n  let noiseMagnitude = 'N/A';\n  let noiseResolution = 'N/A';\n  if (((map_v(13) < .25 || map_v(14) < .25) && map_v(15) < .3) || map_v(7) < 0.05) {\n    let noiseMagnitudeNum = map_v(9, 25, 35);\n    if (noiseMagnitudeNum < 28) {\n      noiseMagnitude = 'High';\n    } else if (noiseMagnitudeNum > 32) {\n      noiseMagnitude = 'Low';\n    } else {\n      noiseMagnitude = 'Normal';\n    }\n    \n    let noiseResolutionNum = map_v(10, 1, 10);\n    if (noiseResolutionNum < 4) {\n      noiseResolution = 'High'\n    } else if (noiseResolutionNum > 7) {\n      noiseResolution = 'Low'\n    } else {\n      noiseResolution = 'Normal'\n    }\n  }\n\n\n  let colorAnimation = 'N/A';\n  const colorAnimationPercent = map_v(19);\n  if (colorAnimationPercent <= 0.05) {\n    colorAnimation = 'Hue shift';\n  } else if (colorAnimationPercent <= 0.1) {\n    colorAnimation = 'Random';\n  } else if (colorAnimationPercent <= 0.15) {\n    colorAnimation = 'Rotate';\n  }\n\n\n  let colorAnimationSpeed = 'N/A';\n  if (colorAnimationPercent <= .05) {\n    const colorAnimationSpeedPercent = map_v(20, 0.8, 1.2); \n    if (colorAnimationSpeedPercent < .9) {\n      colorAnimationSpeed = 'Fast';\n    } else if (colorAnimationSpeedPercent > 1.1) {\n      colorAnimationSpeed = 'Slow';\n    } else {\n      colorAnimationSpeed = 'Normal';\n    }\n  } else if (colorAnimationPercent <= .15) {\n    const framesBetweenColorChange = Math.floor(map_v(21, 3, 10));\n    if (framesBetweenColorChange < 5) {\n      colorAnimationSpeed = 'Fast';\n    } else if (framesBetweenColorChange < 8) {\n      colorAnimationSpeed = 'Normal';\n    } else if (framesBetweenColorChange < 10) {\n      colorAnimationSpeed = 'Slow';\n    } else {\n      colorAnimationSpeed = 'Very slow';\n    }\n  }\n\n  return {\n      \"Size\": size,\n      \"Line style\": lineStyle,\n      \"Color scheme\": colorScheme,\n      \"Moves\": doesMove,\n      \"Color Animation\": colorAnimation,\n      \"Filled\": isFill,\n      \"Node style\": nodeStyle,\n      \"Start point node style\": startpointNodeStyle,\n      \"Endpoint node style\": endpointNodeStyle,\n      \"Nodes filled\": nodeFill,\n      \"Possible node size\": nodeRatio,\n      \"Node rotation\": nodeRotationStyle,\n      \"Border\": hasBorder,\n      \"Start point style\": startpointStyle,\n      \"Random endpoint\": randomEndpoints,\n      \"Noise magnitude\": noiseMagnitude,\n      \"Noise resolution\": noiseResolution,\n      \"Color animation speed\": colorAnimationSpeed,\n      \"Max node rotation\": maxNodeRotation\n  };\n\n  function getNodeStyle(pairPos) {\n    const nodeStyleProb = map_v(pairPos);\n    if (nodeStyleProb <= 0.05) {\n      return 'Circle';\n    } else if (nodeStyleProb <= 0.1) {\n      return 'Square';\n    } else if (nodeStyleProb <= 0.15) {\n      return 'Triangle';\n    } else if (nodeStyleProb <= 0.2) {\n      return 'Cross';\n    } else if (nodeStyleProb <= 0.25) {\n      return 'Asterisk';\n    }\n    return 'N/A';\n  }\n\n  function map_v(index, min = 0, max = 1) {\n      return decPairs[index]/255 * (max - min) + min\n  }\n}\n\n\n","import React from 'react';\nimport './FeaturesDisplay.css';\n\nfunction FeaturesDisplay({features}) {\n  return(\n    <div>\n      {Object.keys(features).map((feature) => (\n        <div\n          className=\"feature-line\"\n          key={feature}\n        >\n          <div className=\"feature-name\">{feature}:&nbsp;</div>\n          <div>{features[feature]}</div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default FeaturesDisplay;\n","import React, {useEffect, useRef} from 'react';\nimport {artblocksUrl, artblocksApiUrl} from './consts';\nimport {formatTokenId} from './utils/tokenId';\nimport './ActivePieceDisplay.css';\nimport {projectMap} from './utils/projectMap';\nimport FeaturesDisplay from './FeaturesDisplay';\n\nfunction ActivePieceDisplay({activeToken, setActiveToken, projectId}) {\n  const node = useRef();\n\n  useEffect(() => {\n    // Check if click was inside of the piece card\n    const handleClick = e => {\n      if (node.current?.contains(e.target)) {\n        return;\n      }\n      setActiveToken(null);\n    }\n\n    document.addEventListener(\"mousedown\", handleClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, [setActiveToken]);\n\n  if (!activeToken) {\n    return null;\n  }\n  \n  return (\n    <div className=\"active-piece-container\"\n    >\n      <div className=\"active-piece-card\"\n        ref={node}\n      >\n        <div\n          onClick={() => setActiveToken(null)}\n          className=\"exit-button\"\n        >\n          X\n        </div>\n        <div className=\"iframe-container\">\n          <iframe\n            title={activeToken.id}\n            src={`${artblocksApiUrl}/generator/${activeToken.id}`}\n          />\n        </div>\n        <div className=\"info\">\n          <h3>Empyrean #{formatTokenId(activeToken.id)}</h3>\n          <FeaturesDisplay\n            features={projectMap[projectId].featureScript(activeToken.hash)}\n          />\n          <a href={`${artblocksUrl}/token/${activeToken.id}`}>View on Art Blocks</a>\n        </div>\n      </div>\n    </div>\n  );\n\n}\n\nexport default ActivePieceDisplay;\n","import React, {useState} from 'react';\nimport TokenGrid from './TokenGrid';\nimport ActivePieceDisplay from './ActivePieceDisplay';\n\nfunction PieceBrowser({tokens, projectId}) {\n  const [activeToken, setActiveToken] = useState(null);\n\n  if (!tokens) {\n    return null;\n  }\n\n  return (\n    <div>\n      <ActivePieceDisplay activeToken={activeToken} setActiveToken={setActiveToken} projectId={projectId}/>\n      <TokenGrid tokens={tokens} setActiveToken={setActiveToken}/>\n    </div>\n  );\n\n}\n\nexport default PieceBrowser;\n","import React from 'react';\nimport './PieceStats.css';\nimport {featureSet} from './utils/features';\nimport {projectMap} from './utils/projectMap';\n\nfunction PieceStats({tokens, projectId}) {\n  if(!tokens) {\n    return null;\n  }\n\n  const tokenFeatures = featureSet(tokens, projectId);\n  const features = projectMap[projectId].features;\n  const numTokenFeatures = Object.keys(tokenFeatures).reduce((accumulator, tokenFeature) => accumulator + tokenFeatures[tokenFeature].size, 0);\n  const numFeatures = Object.keys(features).reduce((accumulator, feature) => accumulator + features[feature].length, 0);\n  \n  return (\n    <div className=\"piece-stats-container\">\n      <h2 className=\"stats-header\">Stats</h2>\n      <div className=\"table-container\">\n        <table>\n          <thead>\n            <tr>\n              <th>Feature name</th>\n              <th>Amount collected</th>\n            </tr>\n          </thead>\n          <tbody>\n          {Object.keys(features).map((featureName) => {\n            return (\n              <tr\n                key={featureName}\n              >\n                <td className=\"feature-display-title\">\n                  {featureName} \n                </td>\n                <td className=\"center-column tooltip\">\n                  {tokenFeatures[featureName]?.size || 0}/{features[featureName].length}\n                  <span className=\"tooltiptext\">\n                  {features[featureName].map((feature, index) => {\n                    return <span key={feature} className={tokenFeatures[featureName]?.has(feature) ? \"has\" : \"missing\"}>{index ? ', ': ''}{feature}</span> \n                  })}\n                  </span>\n                </td>\n              </tr>\n            )\n          })}\n          </tbody>\n          <tfoot className=\"table-footer\">\n            <tr>\n              <td className=\"feature-display-title\">Total</td>\n              <td className=\"center-column\">{numTokenFeatures}/{numFeatures} ({Math.floor(numTokenFeatures/numFeatures * 100)}%)</td>\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default PieceStats;\n","import { projectMap } from './projectMap';\n\nexport function featureSet(tokens, projectId) {\n  const featureDescriptions = tokens.map((token) => {\n    return projectMap[projectId].featureScript(token.hash);\n  });\n\n  const featureSet = {}\n\n  featureDescriptions.forEach((featureDescription) => {\n    Object.keys(featureDescription).forEach((featureName) => {\n      if (!featureSet[featureName]) {\n        featureSet[featureName] = new Set();\n      }\n      return featureSet[featureName].add(featureDescription[featureName]);\n    });\n  });\n\n  return featureSet;\n}\n\n\n","import React from 'react';\nimport './ProjectDetails.css';\n\nfunction ProjectDetails({projectInfo}) {\n  if (!projectInfo) {\n    return null;\n  }\n  const {projectName, artist, description, website} = projectInfo\n  return (\n    <div className=\"project-details-container\">\n      <h2>Piece Info</h2>\n      <h3>{projectName} by {artist}</h3>\n      <a href={website}>Artist Website</a>\n      <p><span className=\"bold-text\">Description: </span>{description}</p>\n    </div>\n  );\n}\n\nexport default ProjectDetails;\n","import React from 'react';\nimport PieceStats from './PieceStats';\nimport ProjectDetails from './ProjectDetails';\nimport './ProjectInformation.css';\n\nfunction ProjectInformation({projectInfo, tokens, projectId}) {\n  return (\n    <div className=\"project-information-container\">\n      <ProjectDetails projectInfo={projectInfo}/>\n      <PieceStats tokens={tokens} projectId={projectId}/>\n    </div>\n  ) \n}\n\nexport default ProjectInformation;\n","import React, {useState, useEffect} from 'react';\nimport PieceBrowser from './PieceBrowser';\nimport ProjectInformation from './ProjectInformation';\n\nfunction ProjectView({projectId, account, contract}) {\n\n  const [projectInfo, setProjectInfo] = useState(null);\n  const [allTokens, setAllTokens] = useState(null);\n\n  useEffect(() => {\n    async function fetchProjectDetails() {\n      setProjectInfo(await contract.methods.projectDetails(projectId).call());\n    }\n    fetchProjectDetails();\n  }, [projectId, contract]);\n\n  useEffect(() => {\n    if (!account) {\n      setAllTokens(null);\n      return; \n    }\n\n    async function fetchTokens() {\n      const ids = await contract.methods.tokensOfOwner(account).call();\n      const tokens = await Promise.all(ids.map(async (id) => {\n        return {\n          id,\n          hash: await contract.methods.tokenIdToHash(id).call()\n        };\n      }));\n      setAllTokens(tokens);\n    }\n    \n    fetchTokens();\n\n   }, [account, contract]);\n\n  const regex = new RegExp(`^${projectId}\\\\d+`, 'g');\n  const tokens = !allTokens ? null : allTokens.filter(token => token.id.match(regex));\n  if (tokens) {\n    tokens.sort((tokenA, tokenB) => (tokenA.id < tokenB.id) ? -1: 1);\n  }\n\n  return (\n    <div>\n      <ProjectInformation \n        projectInfo={projectInfo}\n        tokens={tokens}\n        projectId={projectId}\n      />\n      <PieceBrowser tokens={tokens} projectId={projectId}/>\n    </div>\n  );\n}\n\nexport default ProjectView;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport ViewAccountHandling from './ViewAccountHandling';\nimport ProjectView from './ProjectView';\nimport {urlToProjectId} from './utils/projectMap';\nimport queryString from 'query-string';\nimport {\n  useParams,\n  useHistory,\n  useLocation\n} from 'react-router-dom';\nimport abi from '../api.json';\nimport './ProjectPage.css';\nconst artblocksContract = \"0xa7d8d9ef8d8ce8992df33d8b8cf4aebabd5bd270\";\n\nfunction ProjectPage({web3, userAccount}) {\n  const { projectName } = useParams();\n  const { search } = useLocation();\n  const queryParams = queryString.parse(search);\n  const history = useHistory();\n\n  const viewAccount = queryParams.collection;\n  const [contract] = useState(new web3.eth.Contract(abi, artblocksContract));\n\n  const setCollectionParam = useCallback((account) => {\n      const params = new URLSearchParams();\n      if (!account) {\n        params.delete(account);\n      } else {\n        params.append(\"collection\", account);\n      }\n      history.push({search: params.toString()});\n  }, [history]);\n\n  useEffect(() => {\n    if (!viewAccount) {\n      setCollectionParam(userAccount);\n    }\n  }, [userAccount, viewAccount, setCollectionParam]);\n\n  if (!web3._provider) {\n    return (<div className=\"test-net-warning\">This site requires MetaMask</div>);\n  }\n\n  if (!urlToProjectId[projectName]) {\n    return (\n      <div className=\"no-project\">\n        <div className=\"bold-error\">404</div>\n        <div>\n          Project {projectName} does not exist...\n        </div>\n        <div>\n          Aren't you sneaky...\n        </div>\n      </div>\n    );\n  }\n  const projectId = urlToProjectId[projectName];\n  return (\n    <div>\n      <ViewAccountHandling\n        contract={contract}\n        projectId={projectId}\n        setViewAccount={setCollectionParam}\n        viewAccount={viewAccount}\n        userAccount={userAccount}\n      />\n      \n      <ProjectView\n        account={viewAccount}\n        contract={contract}\n        projectId={projectId}\n      />\n    </div>\n  )\n}\n\nexport default ProjectPage;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  BrowserRouter as Router,\n} from 'react-router-dom';\nimport './App.css';\nimport Web3 from 'web3';\nimport MetaMaskButton from './components/MetaMaskButton';\nimport ProjectPage from './components/ProjectPage';\n\nfunction App() {\n  const [userAccount, setUserAccount] = useState(null);\n  const [network, setNetwork] = useState(\"main\");\n  const [web3] = useState(new Web3(Web3.givenProvider));\n\n  const requestAccount = useCallback(async () => {\n      const accounts = await web3.eth.requestAccounts();\n      setUserAccount(accounts[0]);\n  }, [web3])\n\n  useEffect(() => {\n    if (!web3._provider) {\n      return;\n    }\n\n    requestAccount();\n    async function getNetwork() {\n      setNetwork(await web3.eth.net.getNetworkType());\n    }\n    getNetwork();\n  }, [web3, requestAccount]);\n\n  \n  return (\n    <Router>\n      <div>\n        <nav>\n          <div className=\"title\">Clamflelmo by Generative Artworks</div>\n          <MetaMaskButton \n            web3={web3}\n            account={userAccount}\n            requestAccount={requestAccount}\n          />\n        </nav>\n        {network !== \"main\" && <div className=\"test-net-warning\">This app only works on main net. Please check your MetaMask settings and try again.</div>}\n        <Switch>\n          <Route path=\"/projects/:projectName\">\n            <ProjectPage\n              web3={web3}\n              userAccount={userAccount}\n            />\n          </Route>\n          <Redirect to=\"/projects/empyrean\"/>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\n\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}